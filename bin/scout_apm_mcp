#!/usr/bin/env ruby
# frozen_string_literal: true

# Suppress all output to prevent breaking JSON parsing in MCP clients
# STDOUT is used for MCP protocol communication (JSON-RPC), so we must not output anything
# STDERR is also suppressed to prevent any error messages from breaking JSON parsing
unless ENV["DEBUG"]
  require "stringio"
  # Redirect stderr to StringIO to suppress all error output
  $stderr = StringIO.new
  $stderr.set_encoding("UTF-8")
end

require "scout_apm_mcp"
require "scout_apm_mcp/server"

ScoutApmMcp::Server.start

